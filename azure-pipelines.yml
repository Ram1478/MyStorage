# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

trigger:
- master

pool:
  vmImage: ubuntu-latest

steps:
- script: echo Hello, world!
  displayName: 'Run a one-line script'

- script: |
    echo Add other tasks to build, test, and deploy your project.
    echo See https://aka.ms/yaml
  displayName: 'Run a multi-line script'
- task: ChangedFiles@1
  inputs:
    variable: 'HasChanged'
    isOutput: true
    refBranch: 'master'
    cwd: '$(System.DefaultWorkingDirectory)'
- task: FtpUpload@2
  inputs:
    credentialsOption: 'inputs'
    serverUrl: 'ftp://ftp.dlptest.com/'
    username: 'dlpuser'
    password: 'rNrKYTX9g7z3RgJRmxWuGHbeu'
    rootDirectory: '$(Build.StagingDirectory)'
    filePatterns: '**'
    remoteDirectory: '/FTP'
    clean: false
    cleanContents: false
    preservePaths: false
    trustSSL: false